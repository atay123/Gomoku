# 五子棋 (Gomoku)

这是一个基于 Web 的五子棋游戏，界面简洁、交互友好，支持双人对战与人机对战，内置智能提示与音效反馈。

<img width="949" height="726" alt="1" src="https://github.com/user-attachments/assets/801bbe65-cc6d-4005-bb75-8f38b2bbfe8f" />

<img width="984" height="717" alt="截屏2025-10-18 20 46 07" src="https://github.com/user-attachments/assets/2b07f84d-e503-4f32-80a8-4fcf898634bc" />

## 功能特性
- 两种游戏模式：
  - 双人对战（黑白轮流下）。
  - 人机对战（AI 扮演白子）。
- 智能提示：根据当前局势为“当前轮次的玩家”给出 AI 推荐的最佳落点，仅高亮不落子。
- AI 增强：即胜优先、必堵优先、方向评估（活三/眠三、活四/冲四等）+ 浅层 alpha-beta 搜索，整体更不易被人类轻易击败。
- 计分系统：自动记录并显示黑子与白子的胜利次数。
- 动画与高亮：
  - 最新落下的棋子短暂放大闪烁。
  - 胜利后连成一线的五个棋子高亮闪烁。
- 主题与静音：支持“切换主题”和“静音”，偏好会被保存。
- 自定义弹窗：胜利提示与重置分数采用与整体 UI 风格统一的弹窗。

## 棋盘大小
- 标准大小：15×15。
- 当前项目：`BOARD_SIZE = 15`，并在样式中使用 15×15 网格。

## 如何开始
1. 在项目根目录运行：
   ```
   python3 -m http.server 8000
   ```
   然后访问 `http://localhost:8000/`。
2. 点击棋盘交叉点即可落子；点击“人机对战”按钮可切换模式；点击“提示”获取智能推荐落点的高亮。

## 文件说明
- `index.html`：页面结构与按钮/音频资源。
- `style.css`：布局、主题与动画样式。
- `game.js`：核心规则与状态管理：
  - 棋盘与当前玩家、胜负判断、分数统计。
  - `placePiece()`、`togglePlayer()`、`resetGame()` 等基础逻辑。
  - `getPossibleMoves(b = board)` 生成候选落子（支持传入模拟棋盘）。
- `ai.js`：AI 与提示的核心算法：
  - `findBestMoveFor(color)`：为任意颜色计算最佳落点（用于“提示”）。
  - `findBestMove()`：AI（白方）在其回合计算最佳落点。
  - 采用启发式评分 + 浅层 alpha-beta 搜索，优先即胜与必堵。
- `ui.js`：渲染与交互逻辑：
  - 棋盘绘制、点击落子、AI 回合调度、提示高亮。
  - 分数显示、胜利弹窗、主题切换与静音偏好。

## 自定义音效
将您的 `.mp3` 文件替换项目根目录中的音效文件即可：
- `place.mp3`（落子）
- `win.mp3`（胜利）
- `new.mp3`（新游戏）
- `hint.mp3`（提示）
- `reset.mp3`（重置分数）
